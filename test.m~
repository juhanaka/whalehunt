TEST_PATH = 'data/imgs_subset';
DETECTOR_PATH = 'cascade.xml';

detector = vision.CascadeObjectDetector(DETECTOR_PATH);

pathnames = dir(TEST_PATH);

for i=1:length(pathnames)
    if i < 3
        continue
    end
    pathname = pathnames(i).name
    img = imread(strcat(TEST_PATH, '/', pathname));
    bbox = step(detector, img);
    detectedImg = insertObjectAnnotation(img,'rectangle',bbox,'whale');
    k = waitforbuttonpress;
    close all
end